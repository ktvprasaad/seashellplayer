(this.webpackJsonpseashellplayer=this.webpackJsonpseashellplayer||[]).push([[0],{57:function(e,t,s){},77:function(e,t,s){},84:function(e,t,s){},85:function(e,t,s){},86:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s(1),n=s.n(i),c=s(37),o=s.n(c),r=(s(57),s(50)),d=s(12),l=s(13),h=s(16),p=s(15),j=s(9),u=s(4),m=s.p+"static/media/logo.0079cc03.svg",b=s.p+"static/media/seashellicon.21f20d11.svg",g=s.p+"static/media/hearticon.57f7c679.svg",x=s(17),v=s.n(x),O=s(20),f=s.p+"static/media/searchicon.0da34784.svg",w=s.p+"static/media/forwardarrow.c9ac1875.svg",N=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(d.a)(this,s),(e=t.call(this)).state={searchKeyword:""},e}return Object(l.a)(s,[{key:"handleSubmit",value:function(){var e=Object(O.a)(v.a.mark((function e(t,s){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.getKeyword(s);case 3:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.setState({searchKeyword:""})}},{key:"render",value:function(){var e=this,t=this.state.searchKeyword;return Object(a.jsxs)("div",{className:"search",children:[Object(a.jsx)("h1",{className:"explore",children:"Explore Podcasts"}),Object(a.jsxs)("div",{className:"search-section",children:[Object(a.jsxs)("div",{className:"search-top",children:[Object(a.jsx)("div",{className:"search-icon",children:Object(a.jsx)("img",{src:f,alt:"search logo"})}),Object(a.jsx)("div",{className:"search-podcasts",children:Object(a.jsx)("h4",{children:"Search Podcasts"})})]}),Object(a.jsx)("div",{className:"search-keyword",children:Object(a.jsxs)("form",{className:"search-keyword-form",onSubmit:function(s){return e.handleSubmit(s,t)},children:[Object(a.jsx)("input",{type:"text",required:!0,value:t,onChange:function(t){return e.setState({searchKeyword:t.target.value})}}),Object(a.jsx)("img",{className:"search-keyword-form forwardarrow",src:w,alt:"forward-arrow logo",onClick:function(s){return e.handleSubmit(s,t)}})]})})]})]})}}]),s}(n.a.Component),y=s(51),_=s(18),P=s.n(_),E=s(27),k=(s(76),s(77),s.p+"static/media/backarrow.b06df29b.svg"),S=s.p+"static/media/heartoutlineicon.531d0ed8.svg",C=s.p+"static/media/favoriteicon.d3312b62.svg",I=s.p+"static/media/playbutton.0404b465.svg",F=s.p+"static/media/pausebutton.fcc36dc3.svg",D=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handleResize=function(e){a.setState({windowWidth:window.innerWidth})},a.optionHandler=function(e){e.preventDefault();var t=e.target.value,s=a.state,i=s.latestEpisodeDate,n=s.nextEpisodeDate,c=s.totalEpisodes,o=s.remainingEpisodes,r=null,d=null;"Latest"===t?(a.setState({showNext:!1,remainingEpisodes:c-10}),d=i,r="latest_pub_date_ms=".concat(i)):(a.setState({showNext:!0,remainingEpisodes:o-10}),d=n,r="next_episode_pub_date=".concat(n)),null!==d&&P.a.get("https://listen-api.listennotes.com/api/v2/podcasts/".concat(a.props.podcastId,"/?").concat(r),{headers:{"X-ListenAPI-Key":"6850f9c4752c4edbad752bcf2464bc44"}}).then((function(e){a.setState({podcast:e.data,playing:e.data.episodes[0],len:e.data.episodes.length,totalEpisodes:e.data.total_episodes,latestEpisodeDate:e.data.latest_pub_date_ms,nextEpisodeDate:e.data.next_episode_pub_date}),window.addEventListener("resize",a.handleResize)})).catch((function(e){e.response?console.log("Problem with response ",e.response.status):e.requests?console.log("Problem with requests"):console.log("Error ",e.message)}))},a.skipEpisode=function(){var e=Object(O.a)(v.a.mark((function e(t,s){var i,n,c,o,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.state,n=i.podcast,c=i.currentIndex,o=i.len,t.preventDefault(),r=s?c===o-1?0:c+1:0===c?o-1:c-1,e.next=5,a.setState({currentIndex:r,playing:n.episodes[r]});case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),a.playNextEpisode=function(){var e=Object(O.a)(v.a.mark((function e(t,s){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({playing:s,currentIndex:a.state.podcast.episodes.findIndex((function(e){return e.id===s.id}))});case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),a.addToFavorites=function(){var e=Object(O.a)(v.a.mark((function e(t,s){var i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.addToFavorites(s);case 2:a.setState({isFavorite:!a.state.isFavorite}),i=a.state.myFavorite,!0===a.state.isFavorite?(i.push({id:s.id,image:s.image,title:s.title,description:s.description,total_episodes:s.total_episodes}),localStorage.setItem("myFavorite",JSON.stringify(i))):(i.splice(i.findIndex((function(e){return e.id===s.id})),1),localStorage.setItem("myFavorite",JSON.stringify(i)));case 5:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),a.reformat=function(e){var t=a.props.windowWidth.width;return t<=320?e.trim().substring(0,40).concat("..."):t>321&&t<=480?e.trim().substring(0,80).concat("..."):t>480&&t<=768?e.trim().substring(0,150).concat("..."):e.trim()},a.state={id:null,podcast:null,playing:null,isFavorite:!1,currentIndex:0,len:-1,totalEpisodes:0,remainingEpisodes:0,latestEpisodes:null,nextEpisodeDate:null,showNext:!1,currentPage:1,iphone:!!/iphone|ipod|ipad|mac/i.test(navigator.userAgent.toLowerCase()),windowWidth:window.innerWidth,myFavorite:JSON.parse(localStorage.getItem("myFavorite"))||[]},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;P.a.get("https://listen-api.listennotes.com/api/v2/podcasts/".concat(this.props.podcastId),{headers:{"X-ListenAPI-Key":"6850f9c4752c4edbad752bcf2464bc44"}}).then((function(t){e.setState({podcast:t.data,playing:t.data.episodes[0],len:t.data.episodes.length,totalEpisodes:t.data.total_episodes,remainingEpisodes:t.data.total_episodes-10,latestEpisodeDate:t.data.latest_pub_date_ms,nextEpisodeDate:t.data.next_episode_pub_date,isFavorite:!!e.state.myFavorite.some((function(e){return e.id===t.data.id}))})})).catch((function(e){e.response?console.log("Problem with response ",e.response.status):e.requests?console.log("Problem with requests"):console.log("Error ",e.message)}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.isFavorite,i=t.podcast,n=t.playing,c=t.iphone,o=t.showNext,r=t.totalEpisodes,d=t.remainingEpisodes,l=this.props.windowWidth;return i?Object(a.jsx)("div",{className:"player",children:Object(a.jsx)("div",{className:"player-episodes",children:Object(a.jsxs)("div",{className:"podcast-player",children:[Object(a.jsxs)("div",{className:"player-control",children:[Object(a.jsx)("div",{className:"results-backarrow",children:Object(a.jsx)(j.b,{to:"/",children:Object(a.jsx)("img",{src:k,alt:"back-arrow logo"})})}),Object(a.jsx)("div",{className:"results-header",children:Object(a.jsx)("h1",{children:"Episodes"})}),r>10&&Object(a.jsx)("div",{className:"page",children:Object(a.jsx)("form",{className:"episodeOptions",children:Object(a.jsxs)("div",{className:"episodeSelect",children:[Object(a.jsxs)("select",{onChange:this.optionHandler,children:[Object(a.jsx)("option",{children:"Latest"}),Object(a.jsx)("option",{children:"Previous"})]}),o&&d>0&&Object(a.jsx)("img",{className:"episodeSelect-prev",src:w,alt:"forward-arrow logo",onClick:this.optionHandler})]})})})]}),Object(a.jsxs)("div",{className:"episode-playing",children:[Object(a.jsx)("div",{className:"episode-favicon",onClick:function(t){return e.addToFavorites(t,i)},children:s?Object(a.jsx)("img",{src:C,alt:"heart outline icon"}):Object(a.jsx)("img",{src:S,alt:"heart outline icon"})}),Object(a.jsxs)("div",{className:"episode-detail",children:[Object(a.jsx)("div",{className:"episode-img",children:Object(a.jsx)("img",{src:n.image,alt:"episode"})}),Object(a.jsxs)("div",{className:"episode-desc",children:[Object(a.jsx)("h4",{children:n.title}),Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:this.reformat(n.description)}})]})]}),Object(a.jsx)("div",{className:"audio-control",children:c?Object(a.jsx)(E.a,{className:"i-player",autoPlay:!1,src:n.audio,muted:!0,showSkipControls:!0,showJumpControls:!0,onClickPrevious:function(t){return e.skipEpisode(t,!1)},onClickNext:function(t){return e.skipEpisode(t,!0)},customIcons:{play:Object(a.jsx)("img",{src:I,alt:"play button"}),pause:Object(a.jsx)("img",{src:F,alt:"pause button"})},customVolumeControls:[],customAdditionalControls:[]}):Object(a.jsx)(E.a,{className:"audio-player",autoPlay:!1,src:n.audio,muted:!0,showSkipControls:!0,showJumpControls:!0,onClickPrevious:function(t){return e.skipEpisode(t,!1)},onClickNext:function(t){return e.skipEpisode(t,!0)},customIcons:{play:Object(a.jsx)("img",{src:I,alt:"play button"}),pause:Object(a.jsx)("img",{src:F,alt:"pause button"})},customAdditionalControls:[]})})]}),i.episodes.length>1&&Object(a.jsx)("div",{className:"nextEpisode",children:Object(a.jsx)("h3",{children:"Next Episodes"})}),Object(a.jsx)("div",{className:"nextEpisode-list",children:i.episodes.filter((function(e){return e.id!==n.id})).map((function(t){return Object(a.jsxs)("div",{className:"nextEpisode-list-item",children:[Object(a.jsxs)("div",{className:"nextEpisode-list-item-left",children:[l<=320&&Object(a.jsx)("h5",{children:t.title.length>19?t.title.substring(0,20).concat("..."):t.title}),l>321&&l<=480&&Object(a.jsx)("h5",{children:t.title.length>29?t.title.substring(0,30).concat("..."):t.title}),l>480&&Object(a.jsx)("h5",{children:t.title}),Object(a.jsx)("p",{dangerouslySetInnerHTML:{__html:e.reformat(t.description)}})]}),Object(a.jsx)("div",{className:"nextEpisode-list-item-right",children:Object(a.jsx)("button",{id:"play",onClick:function(s){return e.playNextEpisode(s,Object(y.a)({},t))},children:Object(a.jsx)("img",{src:I,alt:"play button"})})})]},t.id)}))})]})})}):null}}]),s}(n.a.Component),W=s(26),K=s.n(W),L=(s(83),s(84),s.p+"static/media/loadingicon.4ee392fc.svg"),z=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).changeCurrentPage=function(e){var t=10*e-10;P.a.get("https://listen-api.listennotes.com/api/v2/search?sort_by_date=0&type=podcast&offset=".concat(t,"&language=English&safe_mode=1&q=").concat(a.props.keyword,"&only_in=title,description,author,audio"),{headers:{"X-ListenAPI-Key":"6850f9c4752c4edbad752bcf2464bc44"}}).then((function(t){a.setState({podcasts:[t.data],offset:10*e,loading:!1,currentPage:e}),window.addEventListener("resize",a.handleResize)})).catch((function(e){e.response?console.log("Problem with response ",e.response.status):e.requests?console.log("Problem with requests"):console.log("Error ",e.message)}))},a.handleResults=function(e){e.preventDefault(),a.props.reset()},a.handlePodcast=function(e,t){e.preventDefault(),a.props.handlePodcast(t)},a.handleResize=function(e){a.setState({windowWidth:window.innerWidth})},a.state={podcasts:[],loading:!0,windowWidth:window.innerWidth,currentPage:1},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;P.a.get("https://listen-api.listennotes.com/api/v2/search?sort_by_date=0&type=podcast&language=English&safe_mode=1&q=".concat(this.props.keyword,"&only_in=title,description,author,audio"),{headers:{"X-ListenAPI-Key":"6850f9c4752c4edbad752bcf2464bc44"}}).then((function(t){e.setState({podcasts:[t.data],offset:t.data.next_offset,totalPodcasts:t.data.total,loading:!1}),window.addEventListener("resize",e.handleResize)})).catch((function(e){e.response?console.log("Problem with response ",e.response.status):e.requests?console.log("Problem with requests"):console.log("Error ",e.message)}))}},{key:"render",value:function(){var e=this,t=this.props.keyword,s=this.state,i=s.windowWidth,n=s.podcasts,c=s.loading,o=s.currentPage,r=s.totalPodcasts;return t?c?Object(a.jsx)("div",{className:"loadingShell",children:Object(a.jsxs)("h1",{children:["Lo",Object(a.jsx)("img",{src:L,alt:"seashell logo"}),"ding..."]})}):Object(a.jsxs)("div",{className:"results",children:[Object(a.jsxs)("div",{className:"results-control",children:[Object(a.jsx)("div",{className:"results-backarrow",children:Object(a.jsx)(j.b,{href:"/seashellplayer",onClick:function(t){return e.handleResults(t)},children:Object(a.jsx)("img",{src:k,alt:"back-arrow logo"})})}),Object(a.jsx)("div",{className:"results-header",children:Object(a.jsx)("h1",{children:"Podcasts"})}),i<768&&Object(a.jsx)("div",{className:"page",children:Object(a.jsx)(K.a,{currentPage:o,totalSize:r>=100?100:r,sizePerPage:10,changeCurrentPage:this.changeCurrentPage,theme:"border-bottom"})})]}),n.length>0&&n[0].count>0&&Object(a.jsx)("div",{className:"podcast-results",children:this.state.podcasts.map((function(t,s){return Object(a.jsx)("div",{className:"podcast-list",children:t.results.map((function(t,s){return Object(a.jsx)("div",{onClick:function(s){return e.handlePodcast(s,t.id)},children:Object(a.jsxs)(j.b,{to:"/player",className:"podcast",children:[Object(a.jsx)("div",{className:"podcast-left",children:Object(a.jsx)("img",{src:t.image,className:"podcast-img",alt:"podcast"})}),Object(a.jsxs)("div",{className:"podcast-right",children:[i<=320&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:t.title_original.length>19?t.title_original.substring(0,20).concat("..."):t.title_original}),Object(a.jsx)("p",{className:"podcast-desc",children:t.description_original.trim()>39?t.description_original.trim().substring(0,40).concat("..."):t.description_original.trim()})]}),i>320&&i<=480&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:t.title_original.length>29?t.title_original.substring(0,30).concat("..."):t.title_original}),Object(a.jsx)("p",{className:"podcast-desc",children:t.description_original.trim()>79?t.description_original.trim().substring(0,80).concat("..."):t.description_original.trim()})]}),i>480&&i<=768&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{children:t.title_original.length>49?t.title_original.substring(0,50).concat("..."):t.title_original}),Object(a.jsx)("p",{className:"podcast-desc",children:t.description_original.trim()>149?t.description_original.trim().substring(0,150).concat("..."):t.description_original.trim()})]}),i>768&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h5",{className:"podcast-header",children:t.title_original}),Object(a.jsx)("p",{className:"podcast-desc",children:t.description_original.trim()})]}),Object(a.jsxs)("p",{className:"podcast-episodes",children:[t.total_episodes," EPISODES"]})]})]})},s)}))},s)}))}),n.length>0&&0===n[0].count&&Object(a.jsx)("div",{className:"nopodcast",children:Object(a.jsxs)("h2",{children:["Empty ",Object(a.jsx)("img",{src:L,alt:"seashell logo"})," ! Podcast on ",Object(a.jsx)("span",{children:t})," not found. Please search some other podcast!"]})}),i>=768&&Object(a.jsx)("div",{className:"page-bottom",children:Object(a.jsx)(K.a,{currentPage:o,totalSize:r>=100?100:r,sizePerPage:10,changeCurrentPage:this.changeCurrentPage,theme:"border-bottom"})})]}):null}}]),s}(n.a.Component),q=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(e){var a;return Object(d.a)(this,s),(a=t.call(this,e)).handlePodcast=function(e,t){e.preventDefault(),a.props.handlePodcast(t)},a.state={podcasts:[],favorites:JSON.parse(localStorage.getItem("myFavorite"))||[]},a}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.state.favorites;if(t.length>0){var s=t[Math.floor(Math.random()*t.length)].id;P.a.get("https://listen-api.listennotes.com/api/v2/podcasts/".concat(s,"/recommendations?safe_mode=1"),{headers:{"X-ListenAPI-Key":"6850f9c4752c4edbad752bcf2464bc44"}}).then((function(t){e.setState({podcasts:t.data.recommendations})})).catch((function(e){e.response?console.log("Problem with response ",e.response.status):e.requests?console.log("Problem with requests"):console.log("Error ",e.message)}))}}},{key:"render",value:function(){var e=this,t=this.state,s=t.podcasts,i=t.favorites;return i.length<1?Object(a.jsx)("div",{className:"favorites",children:Object(a.jsx)("div",{className:"favorites-control",children:Object(a.jsx)("div",{className:"results-header",children:Object(a.jsx)("h1",{children:"No Favorite Podcasts"})})})}):Object(a.jsxs)("div",{className:"favorites",children:[Object(a.jsx)("div",{className:"favorites-control",children:Object(a.jsx)("div",{className:"results-header",children:Object(a.jsx)("h1",{children:"Favorite Podcasts"})})}),Object(a.jsx)("div",{className:"podcast-list",children:i.map((function(t,s){return Object(a.jsx)("div",{onClick:function(s){return e.handlePodcast(s,t.id)},children:Object(a.jsxs)(j.b,{to:"/player",className:"podcast",children:[Object(a.jsx)("div",{className:"podcast-left",children:Object(a.jsx)("img",{src:t.image,className:"podcast-img",alt:"podcast"})}),Object(a.jsxs)("div",{className:"podcast-right",children:[Object(a.jsx)("h5",{className:"podcast-header",children:t.title}),Object(a.jsx)("p",{className:"podcast-desc",dangerouslySetInnerHTML:{__html:t.description.trim()}}),Object(a.jsxs)("p",{className:"podcast-episodes",children:[t.total_episodes," EPISODES"]})]})]})},s)}))}),Object(a.jsxs)("div",{className:"recommended",children:[Object(a.jsx)("div",{className:"results-header",children:Object(a.jsx)("h1",{children:"Recommended Podcasts"})}),Object(a.jsx)("div",{className:"recommended-podcast-list",children:s.map((function(t,s){return Object(a.jsx)("div",{className:"recommended-podcast-list--item",onClick:function(s){return e.handlePodcast(s,t.id)},children:Object(a.jsx)(j.b,{to:"/player",children:Object(a.jsx)("img",{src:t.image,alt:"podcast"})})},s)}))})]})]})}}]),s}(n.a.Component),A=(s(85),function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;return Object(d.a)(this,s),(e=t.call(this)).getKeyword=function(t){e.setState({searchKeyword:t,podcastId:null})},e.handlePodcast=function(t,s){e.setState({podcastId:t})},e.addToFavorites=function(t){e.state.favorites.some((function(e){return e.id===t.id}))?e.setState({favorites:e.state.favorites.filter((function(e){return e.id!==t.id}))}):e.setState((function(e){return{favorites:[].concat(Object(r.a)(e.favorites),[t])}}))},e.reset=function(){e.setState({searchKeyword:null,podcastId:null})},e.handleResize=function(t){e.setState({windowWidth:window.innerWidth})},e.state={searchKeyword:null,podcasts:[],podcastId:null,windowWidth:window.innerWidth,favorites:[]},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this,t=this.state,s=t.searchKeyword,i=t.podcastId,n=t.windowWidth;return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(j.a,{basename:"/seashellplayer",children:[Object(a.jsx)("header",{className:"App-header",children:Object(a.jsxs)("div",{className:"logos",children:[Object(a.jsx)("div",{className:"shellicon",children:Object(a.jsx)("img",{src:b,alt:"seashell logo"})}),Object(a.jsx)("div",{className:"app-logo",children:Object(a.jsx)(j.b,{to:"/",onClick:this.reset,children:Object(a.jsx)("img",{src:m,alt:"app logo"})})}),Object(a.jsx)(j.b,{to:"/fav",children:Object(a.jsx)("div",{className:"hearticon",children:Object(a.jsx)("img",{src:g,alt:"heart logo"})})})]})}),Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{exact:!0,path:"/",render:function(){return s?Object(a.jsx)("div",{className:"results-screen",children:Object(a.jsx)(z,{keyword:s,reset:e.reset,handlePodcast:e.handlePodcast,windowWidth:n})}):Object(a.jsx)("div",{className:"search-screen",children:Object(a.jsx)(N,{getKeyword:e.getKeyword})})}}),Object(a.jsx)(u.a,{path:"/player",render:function(){return Object(a.jsx)("div",{className:"search-player",children:Object(a.jsx)(D,{podcastId:i,windowWidth:n,addToFavorites:e.addToFavorites})})}}),Object(a.jsx)(u.a,{path:"/fav",render:function(){return Object(a.jsx)("div",{className:"favorites-screen",children:Object(a.jsx)(q,{favorites:e.state.favorites,handlePodcast:e.handlePodcast})})}})]})]})})}}]),s}(n.a.Component));o.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(A,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.5d5b09bd.chunk.js.map